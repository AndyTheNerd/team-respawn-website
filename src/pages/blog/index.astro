---
import BlogListingPage from '../../components/BlogListingPage.astro';
import blogPosts from '../../data/blogPosts.js';

const POSTS_PER_PAGE = 12;
const totalPages = Math.max(1, Math.ceil(blogPosts.length / POSTS_PER_PAGE));
const paginatedPosts = blogPosts.slice(0, POSTS_PER_PAGE);

const paginationPages = Array.from({ length: totalPages }, (_, index) => {
  const page = index + 1;
  return {
    label: page,
    link: page === 1 ? '/blog' : `/blog/${page}`,
    active: page === 1
  };
});

const previousLink = '/blog';
const nextLink = totalPages > 1 ? '/blog/2' : '/blog';
const showPagination = totalPages > 1;
---
<BlogListingPage
  posts={paginatedPosts}
  paginationPages={paginationPages}
  previousLink={previousLink}
  nextLink={nextLink}
  disablePrevious={true}
  disableNext={totalPages <= 1}
  showPagination={showPagination}
  canonical="https://www.teamrespawntv.com/blog"
/>
